# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Build Commands

- `npm run build` - Compile TypeScript to JavaScript (outputs to dist/)
- `npm run start` - Run the compiled application
- `npm run dev` - Watch mode for development (recompiles on file changes)
- `npm test` - Run tests with Jest
- `npm run test:coverage` - Run tests with coverage report
- `npm test -- --watch` - Run tests in watch mode
- `npm run lint` - Run ESLint
- `npm run lint:fix` - Run ESLint with auto-fix
- `npm run format` - Format code with Prettier
- `npm run format:check` - Check formatting without changes

## Docker

- `docker build -t my-project .` - Build Docker image
- `docker run -p 3000:3000 my-project` - Run container

## Docker Compose

- `docker compose up -d` - Start application
- `docker compose down` - Stop application
- `docker compose logs -f` - View logs

## CI

GitHub Actions runs on push/PR to main:
- Lint, format check, build, and test
- Tests against Node.js 18, 20, and 22
- Docker build verification

## Architecture

This is a Node.js/TypeScript web server using Express.js.

- `src/index.ts` - Main entry point with Express server
- `src/index.test.ts` - Tests (unit + API integration)
- `dist/` - Compiled JavaScript output (generated by build)

## Web Server

The application runs an Express.js web server on port 3000.

### API Endpoints

- `GET /` - Returns "Hello, World!"
- `GET /health` - Returns `{"status": "ok"}`
- `GET /greet/:name` - Returns personalized greeting
- `POST /ai/chat` - Chat with Claude AI (requires `ANTHROPIC_API_KEY`)

### Environment Variables

- `PORT` - Server port (default: 3000)
- `ANTHROPIC_API_KEY` - Required for `/ai/chat` endpoint
